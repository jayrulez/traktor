# Traktor.Model

set(TRAKTOR_MODEL_SOURCES
	Animation.h
	ContainerHelpers.h
	Formats/Blend/ModelFormatBlend.h
	Formats/Bvh/BvhDocument.h
	Formats/Bvh/BvhJoint.h
	Formats/Bvh/ModelFormatBvh.h
	Formats/Fbx/Conversion.h
	Formats/Fbx/MaterialConverter.h
	Formats/Fbx/MeshConverter.h
	Formats/Fbx/ModelFormatFbx.h
	Formats/Fbx/SkeletonConverter.h
	Formats/Gltf/GltfConversion.h
	Formats/Gltf/GltfMaterialConverter.h
	Formats/Gltf/GltfMeshConverter.h
	Formats/Gltf/GltfSkeletonConverter.h
	Formats/Gltf/ModelFormatGltf.h
	Formats/Gltf/cgltf.h
	Formats/Obj/ModelFormatObj.h
	Formats/Tmd/ModelFormatTmd.h
	Grid2.h
	Grid3.h
	HashVector.h
	IModelOperation.h
	Joint.h
	Material.h
	Model.h
	ModelAdjacency.h
	ModelCache.h
	ModelClassFactory.h
	ModelFormat.h
	ModelRasterizer.h
	Module.h
	Operations/BakeVertexColors.h
	Operations/Boolean.h
	Operations/CalculateConvexHull.h
	Operations/CalculateNormals.h
	Operations/CalculateTangents.h
	Operations/CleanDegenerate.h
	Operations/CleanDuplicates.h
	Operations/Clear.h
	Operations/CullDistantFaces.h
	Operations/ExecuteScript.h
	Operations/FlattenDoubleSided.h
	Operations/MergeCoplanarAdjacents.h
	Operations/MergeModel.h
	Operations/MergeTVertices.h
	Operations/NormalizeTexCoords.h
	Operations/Quantize.h
	Operations/Reduce.h
	Operations/ScaleAlongNormal.h
	Operations/SortCacheCoherency.h
	Operations/SortProjectedArea.h
	Operations/Transform.h
	Operations/Triangulate.h
	Operations/Unweld.h
	Operations/UnwrapUV.h
	Polygon.h
	Pose.h
	Test/CaseModelAdjacency.h
	TriangleOrderForsyth.h
	Types.h
	Vertex.h
	Animation.cpp
	Formats/Blend/ModelFormatBlend.cpp
	Formats/Bvh/BvhDocument.cpp
	Formats/Bvh/BvhJoint.cpp
	Formats/Bvh/ModelFormatBvh.cpp
	Formats/Fbx/Conversion.cpp
	Formats/Fbx/MaterialConverter.cpp
	Formats/Fbx/MeshConverter.cpp
	Formats/Fbx/ModelFormatFbx.cpp
	Formats/Fbx/SkeletonConverter.cpp
	Formats/Gltf/GltfConversion.cpp
	Formats/Gltf/GltfMaterialConverter.cpp
	Formats/Gltf/GltfMeshConverter.cpp
	Formats/Gltf/GltfSkeletonConverter.cpp
	Formats/Gltf/ModelFormatGltf.cpp
	Formats/Obj/ModelFormatObj.cpp
	Formats/Tmd/ModelFormatTmd.cpp
	IModelOperation.cpp
	Joint.cpp
	Material.cpp
	Model.cpp
	ModelAdjacency.cpp
	ModelCache.cpp
	ModelClassFactory.cpp
	ModelFormat.cpp
	ModelRasterizer.cpp
	Operations/BakeVertexColors.cpp
	Operations/Boolean.cpp
	Operations/CalculateConvexHull.cpp
	Operations/CalculateNormals.cpp
	Operations/CalculateTangents.cpp
	Operations/CleanDegenerate.cpp
	Operations/CleanDuplicates.cpp
	Operations/Clear.cpp
	Operations/CullDistantFaces.cpp
	Operations/ExecuteScript.cpp
	Operations/FlattenDoubleSided.cpp
	Operations/MergeCoplanarAdjacents.cpp
	Operations/MergeModel.cpp
	Operations/MergeTVertices.cpp
	Operations/NormalizeTexCoords.cpp
	Operations/Quantize.cpp
	Operations/Reduce.cpp
	Operations/ScaleAlongNormal.cpp
	Operations/SortCacheCoherency.cpp
	Operations/SortProjectedArea.cpp
	Operations/Transform.cpp
	Operations/Triangulate.cpp
	Operations/Unweld.cpp
	Operations/UnwrapUV.cpp
	Polygon.cpp
	Pose.cpp
	Test/CaseModelAdjacency.cpp
	TriangleOrderForsyth.cpp
	Vertex.cpp
)

add_traktor_module(Traktor.Model
    SOURCES ${TRAKTOR_MODEL_SOURCES}
    EXPORT_DEFINE T_MODEL_EXPORT
    DEPENDENCIES
        Traktor.Core
        Traktor.Xml
        Traktor.Drawing
        Traktor.Json
        Extern.MikkTSpace
        Extern.ufbx
        Extern.xatlas
)

target_include_directories(Traktor.Model PUBLIC
    ${CMAKE_CURRENT_SOURCE_DIR}/..
)

# Traktor.Model.Editor - Editor support

set(TRAKTOR_MODEL_EDITOR_SOURCES
	Editor/MaterialPipeline.h
	Editor/ModelTool.h
	Editor/ModelToolDialog.h
	Editor/MaterialPipeline.cpp
	Editor/ModelTool.cpp
	Editor/ModelToolDialog.cpp
)

add_traktor_module(Traktor.Model.Editor
    SOURCES ${TRAKTOR_MODEL_EDITOR_SOURCES}
    EXPORT_DEFINE T_MODEL_EDITOR_EXPORT
    DEPENDENCIES
        Traktor.Core
        Traktor.Editor
        Traktor.Model
        Traktor.Render
        Traktor.Ui
        Traktor.Resource
        Traktor.Drawing
        Traktor.I18N
        Traktor.Script
        Traktor.Script.Editor
        Traktor.Database
)

target_include_directories(Traktor.Model.Editor PUBLIC
    ${CMAKE_CURRENT_SOURCE_DIR}/..
)